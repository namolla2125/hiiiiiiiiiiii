<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8">
    <title></title>

    <style>
      th {
        height: 50px;
        background-color: chartreuse;
        /* border-radius: 50px; */
      }
      td {
        background-color: darkorange;
        width: 50px;
        height: 50px;
        /* border-radius: 50%; */
        cursor: pointer;
      }
      body {
        width: 100vw;
        height: 100vh;
        text-align: center;

      }
    </style>
  </head>
  <body>
    <table>
      <thead>
        <th id="th_01" colspan="5">총 0번 클릭했습니다.</th>
      </thead>
      <tbody>
        <tr>
          <td id="1"></td>
          <td id="2"></td>
          <td id="3"></td>
          <td id="4"></td>
          <td id="5"></td>
        </tr>
        <tr>
          <td id="6"></td>
          <td id="7"></td>
          <td id="8"></td>
          <td id="9"></td>
          <td id="10"></td>
        </tr>
        <tr>
          <td id="11"></td>
          <td id="12"></td>
          <td id="13"></td>
          <td id="14"></td>
          <td id="15"></td>
        </tr>
        <tr>
          <td id="16"></td>
          <td id="17"></td>
          <td id="18"></td>
          <td id="19"></td>
          <td id="20"></td>
        </tr>
      </tbody>
    </table>
    <h1 id="stopwatch" >
      00:00:00
    </h1>
    <script>
      let timerId;
      let time = 0;
      const stopwatch = document.getElementById("stopwatch");
      let  hour, min, sec;


      function printTime() {
          time++;
          stopwatch.innerText = getTimeFormatString();
      }

      //시계 시작 - 재귀호출로 반복실행
      function startClock() {
          printTime();
          stopClock();
          timerId = setTimeout(startClock, 1000);
      }

      //시계 중지
      function stopClock() {
          if (timerId != null) {
              clearTimeout(timerId);
          }
      }

      // 시계 초기화
      function resetClock() {
          stopClock()
          stopwatch.innerText = "00:00:00";
          time = 0;
      }

      // 시간(int)을 시, 분, 초 문자열로 변환
      function getTimeFormatString() {
          hour = parseInt(String(time / (60 * 60)));
          min = parseInt(String((time - (hour * 60 * 60)) / 60));
          sec = time % 60;

          return String(hour).padStart(2, '0') + ":" + String(min).padStart(2, '0') + ":" + String(sec).padStart(2, '0');
      }
      window.onload = function(){
        document.querySelector("th").textContent = "총 0번 클릭했습니다.";
      }
      var sun = 1;
      var c = [
        0, 0, 0, 0, 0,
        0, 0, 0, 0, 0,
        0, 0, 0, 0, 0,
        0, 0, 0, 0, 0
      ]
      
      function onclick_(id){
        document.getElementById(id).onclick = (e) => {
          if(sun == 1){
            resetClock()
            startClock()
          }
          if(sun == 20){
            stopClock()
          }
          if(c[id-1] == 0){
            document.getElementById(id).textContent = sun+"번";
            document.querySelector("th").textContent = "총 "+sun+"번 클릭했습니다.";
            sun++;
            c[id-1] = 1;
          }
          
        };
      }
      
      onclick_(1);
      onclick_(2);
      onclick_(3);
      onclick_(4);
      onclick_(5);
      onclick_(6);
      onclick_(7);
      onclick_(8);
      onclick_(9);
      onclick_(10);
      onclick_(11);
      onclick_(12);
      onclick_(13);
      onclick_(14);
      onclick_(15);
      onclick_(16);
      onclick_(17);
      onclick_(18);
      onclick_(19);
      onclick_(20);
    </script>
  </body>
</html>